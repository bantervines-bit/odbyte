{% extends "base.html" %}

{% block title %}Upgrade to Premium - ODByte{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="text-center mb-12">
        <h1 class="text-5xl font-bold mb-4 bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent">
            Upgrade to Premium
        </h1>
        <p class="text-xl text-gray-400">Unlock unlimited prompts and premium features</p>
    </div>
    
    <div class="grid md:grid-cols-2 gap-8 mb-12">
        <div class="bg-[#1a1a1a] p-8 rounded-xl border border-gray-800">
            <h3 class="text-2xl font-bold mb-4 text-gray-300">Free Plan</h3>
            <div class="text-4xl font-bold mb-6 text-blue-400">â‚¹0</div>
            <ul class="space-y-3 text-gray-400">
                <li>âœ“ 10 prompts maximum</li>
                <li>âœ“ Basic features</li>
                <li>âœ“ Public & private prompts</li>
                <li>âœ“ Explore community prompts</li>
            </ul>
        </div>
        
        <div class="bg-gradient-to-br from-yellow-600 to-orange-600 p-8 rounded-xl relative overflow-hidden">
            <div class="absolute top-0 right-0 bg-white text-orange-600 px-4 py-1 rounded-bl-lg font-bold text-sm">
                BEST VALUE
            </div>
            <h3 class="text-2xl font-bold mb-4 text-white">Premium Plan</h3>
            <div class="text-4xl font-bold mb-2 text-white">â‚¹499</div>
            <div class="text-sm text-orange-100 mb-6">One-time payment</div>
            <ul class="space-y-3 text-white">
                <li>âœ“ Unlimited prompts</li>
                <li>âœ“ All features included</li>
                <li>âœ“ Priority support</li>
                <li>âœ“ Lifetime access</li>
                <li>âœ“ No recurring fees</li>
            </ul>
            
            <button onclick="initiatePayment()" 
                    class="w-full mt-8 py-4 bg-white text-orange-600 rounded-lg font-bold text-lg hover:bg-gray-100 transition glow">
                Upgrade Now â†’
            </button>
        </div>
    </div>
    
    <div class="bg-[#1a1a1a] p-8 rounded-xl border border-gray-800">
        <h3 class="text-2xl font-bold mb-6 text-center">Why Go Premium?</h3>
        <div class="grid md:grid-cols-3 gap-6 text-center">
            <div>
                <div class="text-4xl mb-3">âˆž</div>
                <h4 class="font-semibold mb-2">Unlimited Storage</h4>
                <p class="text-gray-400 text-sm">Save as many prompts as you want, no limits!</p>
            </div>
            <div>
                <div class="text-4xl mb-3">âš¡</div>
                <h4 class="font-semibold mb-2">Lifetime Access</h4>
                <p class="text-gray-400 text-sm">One payment, use forever. No subscriptions.</p>
            </div>
            <div>
                <div class="text-4xl mb-3">ðŸŽ¯</div>
                <h4 class="font-semibold mb-2">Priority Support</h4>
                <p class="text-gray-400 text-sm">Get help faster with premium support.</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script>
function initiatePayment() {
    fetch('/create-order', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        }
    })
    .then(response => response.json())
    .then(data => {
        const options = {
            key: data.key,
            amount: data.amount,
            currency: data.currency,
            order_id: data.order_id,
            name: 'ODByte',
            description: 'Premium Plan - Lifetime Access',
            handler: function (response) {
                const form = document.createElement('form');
                form.method = 'POST';
                form.action = '/payment-success';
                
                const paymentId = document.createElement('input');
                paymentId.type = 'hidden';
                paymentId.name = 'razorpay_payment_id';
                paymentId.value = response.razorpay_payment_id;
                
                const orderId = document.createElement('input');
                orderId.type = 'hidden';
                orderId.name = 'razorpay_order_id';
                orderId.value = response.razorpay_order_id;
                
                const signature = document.createElement('input');
                signature.type = 'hidden';
                signature.name = 'razorpay_signature';
                signature.value = response.razorpay_signature;
                
                form.appendChild(paymentId);
                form.appendChild(orderId);
                form.appendChild(signature);
                
                document.body.appendChild(form);
                form.submit();
            },
            theme: {
                color: '#3b82f6'
            }
        };
        
        const rzp = new Razorpay(options);
        rzp.open();
    });
}
</script>
{% endblock %}